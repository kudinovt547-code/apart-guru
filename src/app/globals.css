@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* ============================================ */
  /* LIGHT THEME — Изумрудно-пастельная палитра  */
  /* ============================================ */
  :root {
    /* Base */
    --background: 60 20% 98%;              /* #FAFAF8 тёплый белый */
    --foreground: 0 0% 11%;               /* #1C1C1C почти чёрный */
    --card: 0 0% 100%;                    /* #FFFFFF чистый белый */
    --card-foreground: 0 0% 11%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 11%;

    /* Primary: изумрудный */
    --primary: 153 41% 29%;               /* #2D6A4F изумрудный */
    --primary-foreground: 0 0% 100%;      /* белый на изумруд */

    /* Secondary: светло-зелёный пастельный */
    --secondary: 138 21% 93%;             /* #F0F4F1 */
    --secondary-foreground: 153 41% 20%;

    /* Accent: изумруд */
    --accent: 153 41% 29%;
    --accent-foreground: 0 0% 100%;

    /* Semantic */
    --success: 142 71% 45%;
    --success-foreground: 0 0% 100%;
    --info: 210 100% 50%;
    --info-foreground: 0 0% 100%;
    --warning: 38 95% 50%;
    --warning-foreground: 0 0% 11%;
    --destructive: 0 75% 55%;
    --destructive-foreground: 0 0% 100%;

    /* Muted */
    --muted: 60 10% 95%;                  /* #F5F5F0 бежевые карточки */
    --muted-foreground: 140 8% 55%;       /* #8C9A8E серо-зелёный */

    /* Borders & inputs */
    --border: 138 14% 90%;               /* #E8EDE9 */
    --input: 138 14% 90%;
    --ring: 153 41% 29%;                  /* изумруд для focus */

    /* Border radius */
    --radius: 0.75rem;

    /* Fonts */
    --font-geist-sans: ui-sans-serif, system-ui, sans-serif;
    --font-geist-mono: ui-monospace, monospace;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  h1 { @apply text-5xl md:text-6xl font-bold leading-tight tracking-tight; }
  h2 { @apply text-4xl md:text-5xl font-bold leading-tight; }
  h3 { @apply text-3xl md:text-4xl font-semibold leading-normal; }
  h4 { @apply text-2xl md:text-3xl font-semibold leading-normal; }
  h5 { @apply text-xl md:text-2xl font-medium leading-normal; }
  h6 { @apply text-lg md:text-xl font-medium leading-normal; }

  .tabular-nums {
    font-feature-settings: "tnum";
    font-variant-numeric: tabular-nums;
  }

  .metric-number {
    @apply font-mono text-4xl md:text-5xl font-bold tabular-nums;
    letter-spacing: -0.02em;
  }
}

@layer utilities {
  /* ============================================ */
  /* ELEVATION SYSTEM */
  /* ============================================ */
  .elevation-0 { box-shadow: none; }
  .elevation-1 { box-shadow: 0 1px 3px rgba(0,0,0,0.06), 0 1px 2px rgba(0,0,0,0.04); }
  .elevation-2 { box-shadow: 0 3px 6px rgba(0,0,0,0.08), 0 2px 4px rgba(0,0,0,0.06); }
  .elevation-3 { box-shadow: 0 10px 20px rgba(0,0,0,0.10), 0 3px 6px rgba(0,0,0,0.05); }
  .elevation-4 { box-shadow: 0 15px 25px rgba(0,0,0,0.12), 0 5px 10px rgba(0,0,0,0.06); }
  .elevation-5 { box-shadow: 0 20px 40px rgba(0,0,0,0.15), 0 8px 16px rgba(0,0,0,0.08); }

  .elevation-hover {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
  .elevation-hover:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 24px rgba(0,0,0,0.12), 0 4px 8px rgba(0,0,0,0.08);
  }

  /* ============================================ */
  /* GLASSMORPHISM */
  /* ============================================ */
  .glass {
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    background: rgba(255,255,255,0.7);
    border: 1px solid rgba(0,0,0,0.05);
  }

  .glass-strong {
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    background: rgba(255,255,255,0.85);
    border: 1px solid rgba(0,0,0,0.08);
  }

  /* ============================================ */
  /* GRADIENTS — Emerald */
  /* ============================================ */
  .gradient-primary {
    background: linear-gradient(135deg, hsl(153,41%,29%) 0%, hsl(153,41%,38%) 100%);
  }
  .gradient-accent {
    background: linear-gradient(135deg, hsl(153,41%,29%) 0%, hsl(153,50%,42%) 100%);
  }
  .gradient-success {
    background: linear-gradient(135deg, hsl(142,71%,45%) 0%, hsl(142,71%,55%) 100%);
  }
  .gradient-light-overlay {
    background: linear-gradient(135deg, rgba(250,250,248,0.95) 0%, rgba(240,244,241,0.85) 100%);
  }

  /* ============================================ */
  /* GLOW EFFECTS — Emerald */
  /* ============================================ */
  .glow-primary {
    box-shadow: 0 0 25px rgba(45,106,79,0.15), 0 0 50px rgba(45,106,79,0.08);
  }
  .glow-accent {
    box-shadow: 0 0 30px rgba(45,106,79,0.30), 0 0 60px rgba(45,106,79,0.15);
  }
  .glow-luxury {
    box-shadow: 0 0 40px rgba(45,106,79,0.40), 0 0 80px rgba(45,106,79,0.20),
                0 8px 32px rgba(0,0,0,0.10);
  }

  /* ============================================ */
  /* TEXT GRADIENTS — Emerald */
  /* ============================================ */
  .text-gradient-primary {
    background: linear-gradient(135deg, hsl(153,41%,25%) 0%, hsl(153,50%,42%) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  .text-gradient-accent {
    background: linear-gradient(135deg, hsl(153,41%,29%) 0%, hsl(153,55%,45%) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  .text-gradient-luxury {
    background: linear-gradient(135deg, hsl(153,41%,25%) 0%, hsl(153,55%,45%) 50%, hsl(153,45%,35%) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* ============================================ */
  /* ANIMATIONS */
  /* ============================================ */
  @media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
    .elevation-hover:hover { transform: none; }
  }

  @media (prefers-reduced-motion: no-preference) {
    html { scroll-behavior: smooth; }
  }

  /* ============================================ */
  /* CUSTOM SCROLLBAR */
  /* ============================================ */
  ::-webkit-scrollbar { width: 12px; height: 12px; }
  ::-webkit-scrollbar-track { background: hsl(var(--background)); }
  ::-webkit-scrollbar-thumb {
    background: hsl(var(--muted));
    border-radius: 6px;
    border: 2px solid hsl(var(--background));
  }
  ::-webkit-scrollbar-thumb:hover { background: hsl(var(--muted-foreground)); }

  /* ============================================ */
  /* SELECTION & FOCUS */
  /* ============================================ */
  ::selection {
    background: hsl(var(--primary) / 0.2);
    color: hsl(var(--foreground));
  }

  :focus-visible {
    outline: 2px solid hsl(var(--ring));
    outline-offset: 2px;
  }

  /* ============================================ */
  /* PREMIUM EFFECTS */
  /* ============================================ */
  .card-premium {
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
  }
  .card-premium::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    padding: 2px;
    background: linear-gradient(135deg, transparent 0%, hsl(var(--accent)) 50%, transparent 100%);
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    opacity: 0;
    transition: opacity 0.4s ease;
  }
  .card-premium:hover::before { opacity: 0.3; }

  .frosted-glass {
    background: rgba(255,255,255,0.85);
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
    border: 1px solid rgba(255,255,255,0.3);
  }

  .btn-luxury {
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
  }
  .btn-luxury::before {
    content: '';
    position: absolute;
    top: 50%; left: 50%;
    width: 0; height: 0;
    border-radius: 50%;
    background: rgba(255,255,255,0.3);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
  }
  .btn-luxury:hover::before { width: 300px; height: 300px; }

  .number-luxury {
    @apply font-mono tabular-nums;
    letter-spacing: -0.03em;
    font-weight: 700;
    text-shadow: 0 2px 4px rgba(0,0,0,0.05);
  }
}
